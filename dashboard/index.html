<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insly Translation Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>üåç Insly Translation Dashboard</h1>
        <div class="header-stats">
            <div class="stat">
                <span class="stat-value" id="totalKeys">-</span>
                <span class="stat-label">Total Keys</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="totalLanguages">-</span>
                <span class="stat-label">Languages</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="avgCoverage">-</span>
                <span class="stat-label">Avg Coverage</span>
            </div>
        </div>
    </header>

    <nav class="tabs">
        <button class="tab active" data-tab="overview">Overview</button>
        <button class="tab" data-tab="browser">Translation Browser</button>
        <button class="tab" data-tab="analytics">Analytics</button>
        <button class="tab" data-tab="export">Export</button>
    </nav>

    <main>
        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <h2>Language Coverage</h2>
            <div class="language-grid" id="languageGrid">
                <!-- Language cards will be inserted here -->
            </div>
        </div>

        <!-- Translation Browser Tab -->
        <div id="browser" class="tab-content">
            <div class="browser-controls">
                <select id="languageSelector" class="language-select">
                    <option value="">Select a language...</option>
                </select>
                <input type="text" id="searchInput" placeholder="Search translations..." class="search-input">
                <div class="filter-buttons">
                    <button class="filter-btn" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="missing">Missing</button>
                    <button class="filter-btn" data-filter="identical">Identical</button>
                    <button class="filter-btn" data-filter="translated">Translated</button>
                </div>
            </div>
            
            <div class="translation-viewer">
                <div class="translation-list" id="translationList">
                    <!-- Translation items will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <h2>Translation Analytics</h2>
            <div class="charts-grid">
                <div class="chart-container">
                    <h3>Coverage by Language</h3>
                    <canvas id="coverageChart" width="400" height="300"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Translation Status Distribution</h3>
                    <canvas id="statusChart" width="400" height="300"></canvas>
                </div>
            </div>
            <div class="missing-summary" id="missingSummary">
                <!-- Missing translation summary will be inserted here -->
            </div>
        </div>

        <!-- Export Tab -->
        <div id="export" class="tab-content">
            <h2>Export Translations</h2>
            <div class="export-options">
                <div class="export-section">
                    <h3>Export Modified Translations</h3>
                    <p>Download translations that have been edited in this session.</p>
                    <button id="exportModified" class="btn btn-primary">Export Modified</button>
                </div>
                <div class="export-section">
                    <h3>Export Missing Translations</h3>
                    <p>Download a list of all missing translations by language.</p>
                    <button id="exportMissing" class="btn btn-secondary">Export Missing</button>
                </div>
                <div class="export-section">
                    <h3>Export Full Report</h3>
                    <p>Download a comprehensive coverage report.</p>
                    <button id="exportReport" class="btn btn-secondary">Export Report</button>
                </div>
            </div>
            <div id="exportLog" class="export-log"></div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay active">
        <div class="loading-spinner"></div>
        <p>Loading translations...</p>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Translation</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="edit-field">
                    <label>Key:</label>
                    <input type="text" id="editKey" readonly>
                </div>
                <div class="edit-field">
                    <label>English (Reference):</label>
                    <textarea id="editReference" readonly rows="3"></textarea>
                </div>
                <div class="edit-field">
                    <label>Translation:</label>
                    <textarea id="editTranslation" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveTranslation()">Save</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/search.js"></script>
    <script src="js/editor.js"></script>
</body>
</html>